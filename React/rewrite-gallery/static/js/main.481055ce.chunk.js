(this["webpackJsonpproject-practice"]=this["webpackJsonpproject-practice"]||[]).push([[0],{81:function(n,t,e){},83:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e(1),a=e.n(c),i=e(29),o=e.n(i),u=e(13),s=e(12),l=(e(63),e(53)),d=e(6),p=e(23),b="SET_CURRENT_USER",f="LOGIN_START",j="LOGIN_SUCCESS",h="LOGIN_FAILURE",x="REGISTER_START",O="REGISTER_SUCCESS",m="REGISTER_FAILURE",g="GET_INIT_DATA_START@PROFILE",v="GET_INIT_DATA_SUCCESS@PROFILE",y="GET_INIT_DATA_FAILURE@PROFILE",w="CREATE_ALBUM_START",k="CREATE_ALBUM_SUCCESS",C="CREATE_ALBUM_FAILURE",E="DELETE_ALBUM_START",I="DELETE_ALBUM_SUCCESS",S="DELETE_ALBUM_FAILURE",_={currentUser:null,userInfo:void 0,albums:[],isCreating:!1,pendingIds:[]},U=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,e=Object(p.a)(n.albums),r=Object(p.a)(n.pendingIds);switch(t.type){case b:case j:case O:return Object(d.a)(Object(d.a)({},n),{},{currentUser:t.payload});case v:return Object(d.a)(Object(d.a)({},n),t.payload);case w:return Object(d.a)(Object(d.a)({},n),{},{isCreating:!0});case k:return e.push(t.payload),Object(d.a)(Object(d.a)({},n),{},{albums:e,isCreating:!1});case C:return Object(d.a)(Object(d.a)({},n),{},{isCreating:!1});case E:return r.push(t.payload),Object(d.a)(Object(d.a)({},n),{},{pendingIds:r});case I:var c=n.albums.findIndex((function(n){return n.id===t.payload})),a=n.pendingIds.findIndex((function(n){return n===t.payload}));return e.splice(c,1),r.splice(a,1),Object(d.a)(Object(d.a)({},n),{},{albums:e,pendingIds:r});case S:var i=n.pendingIds.findIndex((function(n){return n===t.payload}));return r.splice(i,1),Object(d.a)(Object(d.a)({},n),{},{pendingIds:r});default:return n}},A="UPLOAD_IMAGE_START",T="UPLOAD_IMAGE_SUCCESS",L="UPLOAD_IMAGE_FAILURE",R="DELETE_IMAGE_START",F="DELETE_IMAGE_SUCCESS",D="DELETE_IMAGE_FAILURE",M={images:[{account_id:0,account_url:null,ad_type:0,ad_url:"",animated:!1,bandwidth:0,datetime:1606793218,deletehash:"b8aoUDO8eZbEmga",description:null,edited:"0",favorite:!1,has_sound:!1,height:1228,id:"RAvKZrJ",in_gallery:!1,in_most_viral:!1,is_ad:!1,link:"https://i.imgur.com/RAvKZrJ.jpg",name:"",nsfw:null,section:null,size:701215,tags:[],title:null,type:"image/jpeg",views:0,vote:null,width:1818},{account_id:0,account_url:null,ad_type:0,ad_url:"",animated:!1,bandwidth:0,datetime:1606793190,deletehash:"lnaySVFUz0gOpuc",description:null,edited:"0",favorite:!1,has_sound:!1,height:1228,id:"M60mTZd",in_gallery:!1,in_most_viral:!1,is_ad:!1,link:"https://i.imgur.com/M60mTZd.jpg",name:"",nsfw:null,section:null,size:656437,tags:[],title:null,type:"image/jpeg",views:0,vote:null,width:1818}],isUploading:!1,errorMessage:void 0,pendingIds:[]},G=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,e=Object(p.a)(n.images),r=Object(p.a)(n.pendingIds);switch(t.type){case A:return Object(d.a)(Object(d.a)({},n),{},{isUploading:!0});case T:return e.push(t.payload.data),Object(d.a)(Object(d.a)({},n),{},{isUploading:!1,images:e});case L:return Object(d.a)(Object(d.a)({},n),{},{isUploading:!1,errorMessage:t.payload});case R:return r.push(t.payload.id),Object(d.a)(Object(d.a)({},n),{},{pendingIds:r});case F:var c=r.findIndex((function(n){return n===t.payload.id}));r.splice(c,1);var a=e.findIndex((function(n){return n.id===t.payload.id}));return e.splice(a,1),Object(d.a)(Object(d.a)({},n),{},{pendingIds:r,images:e});case D:var i=r.findIndex((function(n){return n===t.payload.id}));return r.splice(i,1),Object(d.a)(Object(d.a)({},n),{},{pendingIds:r,errorMessage:t.payload.errorMessage});default:return n}},z=Object(s.c)({user:U,image:G}),P=e(5),B=e.n(P),N=e(8),Z=function(n){return{type:A,payload:n}},J=function(n){return{type:T,payload:n}},q=function(n,t){return{type:R,payload:{id:n,deletehash:t}}},K=function(n){return{type:F,payload:{id:n}}},V=function(n,t){return{type:D,payload:{id:n,errorMessage:t}}},H=e(20),Y=e(32),Q=e.n(Y),W=Q.a.create({baseURL:"https://api.imgur.com/3/image",timeout:3e4});W.interceptors.request.use((function(n){return n.headers["Content-Type"]="application/x-www-form-urlencoded",n.headers.Accept="application/json",n.headers.Authorization="Client-ID 329e78071fa9118",n}),(function(n){return Promise.reject(n)})),W.interceptors.response.use((function(n){return Promise.resolve(n.data)}),(function(n){return Promise.reject(n)}));var X=W;function $(n){return nn.apply(this,arguments)}function nn(){return(nn=Object(H.a)(B.a.mark((function n(t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",X.post("/",t));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function tn(n){return en.apply(this,arguments)}function en(){return(en=Object(H.a)(B.a.mark((function n(t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",X.delete(t));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var rn=B.a.mark(sn),cn=B.a.mark(ln),an=B.a.mark(dn),on=B.a.mark(pn),un=B.a.mark(bn);function sn(n){var t,e;return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=n.payload,r.prev=1,r.next=4,Object(N.b)($,t);case 4:return e=r.sent,r.next=7,Object(N.c)(J(e));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(N.c)((c=r.t0.message,{type:L,payload:c}));case 13:case 14:case"end":return r.stop()}var c}),rn,null,[[1,9]])}function ln(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.d)(A,sn);case 2:case"end":return n.stop()}}),cn)}function dn(n){var t,e,r;return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=n.payload,e=t.id,r=t.deletehash,c.prev=1,c.next=4,Object(N.b)(tn,r);case 4:return c.next=6,Object(N.c)(K(e));case 6:c.next=12;break;case 8:return c.prev=8,c.t0=c.catch(1),c.next=12,Object(N.c)(V(e,c.t0.message));case 12:case 13:case"end":return c.stop()}}),an,null,[[1,8]])}function pn(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.d)(R,dn);case 2:case"end":return n.stop()}}),on)}function bn(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.a)([Object(N.b)(ln),Object(N.b)(pn)]);case 2:case"end":return n.stop()}}),un)}var fn=function(n){return{type:b,payload:n}},jn=function(){return{type:b,payload:void 0}},hn=function(n){return{type:f,payload:n}},xn=function(n){return{type:j,payload:n}},On=function(n){return{type:x,payload:n}},mn=function(n){return{type:O,payload:n}},gn=function(n){return{type:g,payload:n}},vn=function(n){return{type:w,payload:n}},yn=function(n){return{type:k,payload:n}},wn=function(n){return{type:E,payload:n}},kn=Q.a.create({baseURL:"https://thegallery.onthewifi.com/backend",timeout:3e4});kn.interceptors.request.use((function(n){return n.headers["Content-Type"]="application/json",n.headers.Accept="application/json",n}),(function(n){return Promise.reject(n)})),kn.interceptors.response.use((function(n){return Promise.resolve(n.data)}),(function(n){return Promise.reject(n)}));var Cn=kn;function En(n){return In.apply(this,arguments)}function In(){return(In=Object(H.a)(B.a.mark((function n(t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Cn.post("/login",t));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Sn(n){return _n.apply(this,arguments)}function _n(){return(_n=Object(H.a)(B.a.mark((function n(t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Cn.post("/register",t));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Un(n){return An.apply(this,arguments)}function An(){return(An=Object(H.a)(B.a.mark((function n(t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Cn.get("/user/".concat(t)));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Tn(n){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(H.a)(B.a.mark((function n(t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Cn.get("/album/user/".concat(t)));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Rn(n){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(H.a)(B.a.mark((function n(t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Cn.post("/album",t));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Dn(n){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(H.a)(B.a.mark((function n(t){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Cn.delete("/album",{data:{idArr:[t]}}));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var Gn=B.a.mark(Yn),zn=B.a.mark(Qn),Pn=B.a.mark(Wn),Bn=B.a.mark(Xn),Nn=B.a.mark($n),Zn=B.a.mark(nt),Jn=B.a.mark(tt),qn=B.a.mark(et),Kn=B.a.mark(rt),Vn=B.a.mark(ct),Hn=B.a.mark(at);function Yn(n){var t,e,r;return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=n.payload,c.prev=1,c.next=4,Object(N.b)(En,t);case 4:return e=c.sent,r=e.user,c.next=8,Object(N.c)(xn(r));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(N.c)((a=c.t0.message,{type:h,payload:a}));case 14:case 15:case"end":return c.stop()}var a}),Gn,null,[[1,10]])}function Qn(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.d)(f,Yn);case 2:case"end":return n.stop()}}),zn)}function Wn(n){var t,e,r;return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=n.payload,c.prev=1,c.next=4,Object(N.b)(Sn,t);case 4:return e=c.sent,r=e.user,c.next=8,Object(N.c)(mn(r));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(N.c)((a=c.t0.message,{type:m,payload:a}));case 14:case 15:case"end":return c.stop()}var a}),Pn,null,[[1,10]])}function Xn(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.d)(x,Wn);case 2:case"end":return n.stop()}}),Bn)}function $n(n){var t,e,r;return B.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=n.payload,c.prev=1,c.next=4,Object(N.b)(Un,t);case 4:return e=c.sent,c.next=7,Object(N.b)(Tn,t);case 7:return r=c.sent,c.next=10,Object(N.c)({type:v,payload:{userInfo:e,albums:r}});case 10:c.next=16;break;case 12:return c.prev=12,c.t0=c.catch(1),c.next=16,Object(N.c)((a=c.t0.message,{type:y,payload:a}));case 16:case 17:case"end":return c.stop()}var a}),Nn,null,[[1,12]])}function nt(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.d)(g,$n);case 2:case"end":return n.stop()}}),Zn)}function tt(n){var t,e,r,c,a;return B.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=n.payload,i.prev=1,e=t.images.map((function(n){var t=new FormData;return t.append("image",n),Object(N.b)($,t)})),i.next=5,Object(N.a)(e);case 5:return r=i.sent,c=r.map((function(n){return{src:n.data.link,deletehash:n.data.deletehash}})),i.next=9,Object(N.b)(Rn,{userId:t.userId,name:t.name,description:t.description,images:c});case 9:return a=i.sent,i.next=12,Object(N.c)(yn(a));case 12:i.next=18;break;case 14:return i.prev=14,i.t0=i.catch(1),i.next=18,Object(N.c)((o=i.t0.message,{type:C,payload:o}));case 18:case 19:case"end":return i.stop()}var o}),Jn,null,[[1,14]])}function et(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.d)(w,tt);case 2:case"end":return n.stop()}}),qn)}function rt(n){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.payload,e.prev=1,e.next=4,Object(N.b)(Dn,t);case 4:return e.next=6,Object(N.c)({type:I,payload:t});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,Object(N.c)((r=e.t0.message,{type:S,payload:r}));case 12:case 13:case"end":return e.stop()}var r}),Kn,null,[[1,8]])}function ct(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.d)(E,rt);case 2:case"end":return n.stop()}}),Vn)}function at(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.a)([Object(N.b)(Qn),Object(N.b)(Xn),Object(N.b)(nt),Object(N.b)(et),Object(N.b)(ct)]);case 2:case"end":return n.stop()}}),Hn)}var it=B.a.mark(ot);function ot(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.a)([Object(N.b)(bn),Object(N.b)(at)]);case 2:case"end":return n.stop()}}),it)}var ut=Object(l.a)(),st=[ut];var lt=Object(s.e)(z,s.a.apply(void 0,st));ut.run(ot);var dt=lt,pt=e(3),bt={colors:{main:"#CC543A",bg:"#F5D1C9",shallowGrey:"#E5E7EB",middleGrey:"#A1A6AD",darkGrey:"#333333",textColor:"#212121",warning:"#FAAD14"}},ft=e(25),jt=(e(81),e(16)),ht=e(11),xt=e(4);function Ot(){var n=Object(xt.a)(["\n\theight: calc(100vh - 60px);\n\toverflow: scroll;\n\tbackground-color: ",";\n\tcolor: ",";\n\t/* padding: 40px 40px 0 40px; */\n\tdisplay: flex;\n"]);return Ot=function(){return n},n}function mt(){var n=Object(xt.a)(["\n\twidth: 100%;\n\theight: 100vh;\n"]);return mt=function(){return n},n}var gt=pt.c.div(mt()),vt=pt.c.div(Ot(),(function(n){return n.theme.colors.bg}),(function(n){return n.theme.colors.textColor}));function yt(){var n=Object(xt.a)(["\n\tcursor: pointer;\n"]);return yt=function(){return n},n}function wt(){var n=Object(xt.a)(["\n\tfont-weight: 800;\n\tfont-size: 1.1em;\n"]);return wt=function(){return n},n}function kt(){var n=Object(xt.a)(["\n\tposition: absolute;\n\tleft: 20px;\n\tfont-weight: 250;\n\tfont-size: 1.5em;\n\tletter-spacing: 2px;\n\tcursor: pointer;\n\ttransition: all 0.2s;\n\n\t&:hover {\n\t\ttransform: scale(1.1);\n\t\ttext-shadow: 0px 0px 1px ",";\n\t}\n"]);return kt=function(){return n},n}function Ct(){var n=Object(xt.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: 60px;\n\tbackground-color: ",";\n\tcolor: white;\n\tposition: relative;\n"]);return Ct=function(){return n},n}var Et=pt.c.div(Ct(),(function(n){return n.theme.colors.main})),It=pt.c.span(kt(),(function(n){return n.theme.colors.shallowGrey})),St=pt.c.span(wt()),_t=pt.c.span(yt()),Ut=e(21);function At(){var n=Object(xt.a)(["\n\t","\n\n\t","\n"]);return At=function(){return n},n}function Tt(){var n=Object(xt.a)(["\n\twidth: ",";\n\theight: ",";\n\tfont-size: ",";\n\tfont-weight: 500;\n\tcolor: ",";\n\tbackground-color: transparent;\n\tborder: none;\n\tborder-bottom: 5px solid transparent;\n\n\t&:hover {\n\t\topacity: 0.6;\n\t\tborder-bottom: 5px solid ",";\n\t\tcursor: pointer;\n\t}\n"]);return Tt=function(){return n},n}var Lt=Object(pt.b)(Tt(),(function(n){return n.wd?"".concat(n.wd,"px"):"100px"}),(function(n){return n.hg?"".concat(n.hg,"px"):"40px"}),(function(n){return n.fs?n.fs:"1em"}),(function(n){return n.theme.colors.main}),(function(n){return n.theme.colors.main})),Rt=pt.c.button(At(),Lt,(function(n){return n.reverse?"\n\t\t\tcolor: white;\n\t\t\t&:hover {\n\t\t\t\tborder-bottom: 5px solid white;\n\t\t\t}\n\t\t":null})),Ft=function(n){var t=n.children,e=Object(Ut.a)(n,["children"]);return Object(r.jsx)(Rt,Object(d.a)(Object(d.a)({},e),{},{children:t}))};var Dt=Object(u.b)((function(n){return{currentUser:n.user.currentUser}}),(function(n){return Object(s.b)({logout:jn},n)}))((function(n){var t=n.currentUser,e=n.logout,c=Object(ht.g)();return Object(r.jsxs)(Et,{children:[Object(r.jsxs)(It,{onClick:function(){return c.push("/")},children:[Object(r.jsx)(St,{children:"G"}),"allery."]}),t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(_t,{onClick:function(){return c.push("/hello")},children:["Hi, ",t.username,"!"]}),Object(r.jsx)(Ft,{reverse:!0,wd:50,fs:"0.8em",onClick:e,children:"\u767b\u51fa"})]}):null]})})),Mt=function(n){var t=n.children;return Object(r.jsxs)(gt,{children:[Object(r.jsx)(Dt,{}),Object(r.jsx)(vt,{children:t})]})};function Gt(){var n=Object(xt.a)(["\n\tbackground-color: ",";\n\tcolor: white;\n\tfont-size: 80px;\n\tz-index: 99;\n\tletter-spacing: 8px;\n"]);return Gt=function(){return n},n}function zt(){var n=Object(xt.a)(['\n\tbackground-image: url("https://i.imgur.com/l1bIZF5.jpg");\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\tposition: absolute;\n\ttop: 10%;\n\tleft: 0;\n\twidth: 60%;\n\theight: 50%;\n']);return zt=function(){return n},n}function Pt(){var n=Object(xt.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: 100vh;\n\tposition: relative;\n"]);return Pt=function(){return n},n}var Bt=pt.c.div(Pt()),Nt=pt.c.div(zt()),Zt=pt.c.h1(Gt(),(function(n){return n.theme.colors.main}));function Jt(){var n=Object(xt.a)(["\n  width: 100%;\n  padding: 18px 24px;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  background-color: white;\n  border: ",";\n  box-shadow: ",";\n  position: relative;\n"]);return Jt=function(){return n},n}var qt=pt.c.div(Jt(),(function(n){return n.dashed?"1px dashed ".concat(n.theme.colors.shallowGrey):null}),(function(n){return n.noShadow?"none":"2px 2px 8px 0 rgba(0, 0, 0, 0.1)"}));function Kt(){var n=Object(xt.a)(["\n\tbackground-color: #00000099;\n\twidth: 100%;\n\theight: 100vh;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 999;\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t& "," {\n\t\tbackground-color: white;\n        opacity: 0.9;\n\t\twidth: 500px;\n        flex: 0 1 500px;\n        min-height: 50vh;\n        border-radius: 5px; \n        box-shadow: 3px 3px 10px #00000099;\n\t\talign-self: center;\n\n        display: flex;\n        flex-wrap: wrap;\n\t}\n"]);return Kt=function(){return n},n}var Vt=pt.c.div(Kt(),qt),Ht=function(n){var t=n.children,e=Object(Ut.a)(n,["children"]);return Object(r.jsx)(qt,Object(d.a)(Object(d.a)({},e),{},{children:t}))},Yt=function(n){var t=n.displayed,e=n.onClose,a=n.children,i=Object(Ut.a)(n,["displayed","onClose","children"]),o=Object(c.useRef)(null),u=Object(c.useState)(!0),s=Object(jt.a)(u,2),l=s[0],p=s[1];return Object(c.useEffect)((function(){p(t)}),[t]),l?Object(r.jsx)(Vt,Object(d.a)(Object(d.a)({ref:o,onClick:function(n){n.target===o.current&&(p(t),e())}},i),{},{children:Object(r.jsx)(Ht,{children:a})})):null},Qt=e(27);function Wt(){var n=Object(xt.a)(["\n    font-weight: 500;\n    font-size: 1.5em;\n    color: ",";\n"]);return Wt=function(){return n},n}function Xt(){var n=Object(xt.a)(["\n    flex-basis: 100%;\n    margin: 10px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & label {\n        display: flex;\n        justify-content: flex-end;\n        width: 100px;\n    }\n\n    & input {\n        width: 200px;\n        height: 32px;\n        margin: 5px 10px;\n        padding: 5px;\n\n        &:focus {\n            outline: 2px auto ",";\n        }\n    }\n\n    & button {\n        height: 32px;\n        padding: 5px 10px;\n        background-color: ",";\n        color: white;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n"]);return Xt=function(){return n},n}function $t(){var n=Object(xt.a)(["\n\tdisplay: flex;\n    flex-wrap: wrap;\n"]);return $t=function(){return n},n}var ne=pt.c.form($t()),te=pt.c.div(Xt(),(function(n){return n.theme.colors.bg}),(function(n){return n.theme.colors.main})),ee=Object(pt.c)(te)(Wt(),(function(n){return n.theme.colors.main}));var re=Object(u.b)(null,(function(n){return Object(s.b)({loginStart:hn},n)}))((function(n){var t=n.loginStart,e=Object(c.useState)({}),a=Object(jt.a)(e,2),i=a[0],o=a[1],u=function(n){o(Object(d.a)(Object(d.a)({},i),{},Object(Qt.a)({},n.target.name,n.target.value)))};return Object(r.jsxs)(ne,{autocomplete:"off",onSubmit:function(n){n.preventDefault(),t({username:i.username,password:i.password})},children:[Object(r.jsx)(ee,{children:"\u767b\u5165"}),Object(r.jsxs)(te,{children:[Object(r.jsx)("label",{htmlFor:"username",children:"\u4f7f\u7528\u8005\u540d\u7a31"}),Object(r.jsx)("input",{type:"text",name:"username",onChange:u})]}),Object(r.jsxs)(te,{children:[Object(r.jsx)("label",{htmlFor:"password",children:"\u5bc6\u78bc"}),Object(r.jsx)("input",{type:"password",name:"password",onChange:u})]}),Object(r.jsx)(te,{children:Object(r.jsx)("button",{type:"submit",children:"\u767b\u5165"})})]})}));function ce(){var n=Object(xt.a)(["\n    font-weight: 500;\n    font-size: 1.5em;\n    color: ",";\n"]);return ce=function(){return n},n}function ae(){var n=Object(xt.a)(["\n    flex-basis: 100%;\n    margin: 10px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & label {\n        display: flex;\n        justify-content: flex-end;\n        width: 100px;\n    }\n\n    & input {\n        width: 200px;\n        height: 32px;\n        margin: 5px 10px;\n        padding: 5px;\n\n        &:focus {\n            outline: 2px auto ",";\n        }\n    }\n\n    & button {\n        height: 32px;\n        padding: 5px 10px;\n        background-color: ",";\n        color: white;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n"]);return ae=function(){return n},n}function ie(){var n=Object(xt.a)(["\n\tdisplay: flex;\n    flex-wrap: wrap;\n"]);return ie=function(){return n},n}var oe=pt.c.form(ie()),ue=pt.c.div(ae(),(function(n){return n.theme.colors.bg}),(function(n){return n.theme.colors.main})),se=Object(pt.c)(ue)(ce(),(function(n){return n.theme.colors.main})),le=function(n){var t=n.initialValues,e=n.onSubmit,r=Object(c.useState)(t||{}),a=Object(jt.a)(r,2),i=a[0],o=a[1],u=Object(c.useState)(!1),s=Object(jt.a)(u,2),l=(s[0],s[1]),p=Object(c.useRef)(!0);Object(c.useEffect)((function(){p.current||(o(t),l(!1)),p.current=!1}),[t]);return{values:i,handleChange:function(n){var t=n.target,e=t.name,r=t.files,c=t.value;r&&(c=r),n.persist(),o(Object(d.a)(Object(d.a)({},i),{},Object(Qt.a)({},e,c)))},handleSubmit:function(n){n&&n.preventDefault(),e(i)}}};var de=Object(u.b)(null,(function(n){return Object(s.b)({registerStart:On},n)}))((function(n){var t=n.registerStart,e=le({onSubmit:function(n){t({username:n.username,password:n.password})}}),c=(e.values,e.handleChange),a=e.handleSubmit;return Object(r.jsxs)(oe,{autocomplete:"off",onSubmit:a,children:[Object(r.jsx)(se,{children:"\u8a3b\u518a"}),Object(r.jsxs)(ue,{children:[Object(r.jsx)("label",{htmlFor:"username",children:"\u4f7f\u7528\u8005\u540d\u7a31"}),Object(r.jsx)("input",{type:"text",name:"username",onChange:c})]}),Object(r.jsxs)(ue,{children:[Object(r.jsx)("label",{htmlFor:"password",children:"\u5bc6\u78bc"}),Object(r.jsx)("input",{type:"password",name:"password",onChange:c})]}),Object(r.jsxs)(ue,{children:[Object(r.jsx)("label",{htmlFor:"password",children:"\u5bc6\u78bc\u78ba\u8a8d"}),Object(r.jsx)("input",{type:"password",name:"passwordTwice",onChange:c})]}),Object(r.jsx)(ue,{children:Object(r.jsx)("button",{type:"submit",children:"\u8a3b\u518a\u4e26\u767b\u5165"})})]})}));var pe=Object(u.b)((function(n){return{currentUser:n.user.currentUser}}))((function(n){var t=n.currentUser,e=Object(ht.g)(),a=Object(c.useState)({displayed:!1,children:void 0}),i=Object(jt.a)(a,2),o=i[0],u=i[1];Object(c.useEffect)((function(){u({displayed:!1,children:void 0})}),[t]);var s={isLoggedIn:[{key:"profile",handleClick:function(){return e.push("/profile/".concat(null===t||void 0===t?void 0:t.id))},buttonText:"My profile"}],isNotLoggedIn:[{key:"login",handleClick:function(){return u({displayed:!0,children:Object(r.jsx)(re,{})})},buttonText:"\u767b\u5165"},{key:"register",handleClick:function(){return u({displayed:!0,children:Object(r.jsx)(de,{})})},buttonText:"\u8a3b\u518a"}]},l=t?s.isLoggedIn:s.isNotLoggedIn;return Object(r.jsxs)(Bt,{children:[Object(r.jsx)(Nt,{}),Object(r.jsx)(Zt,{children:"Gallery"}),l.map((function(n){return Object(r.jsx)(Ft,{wd:180,hg:60,fs:"1.2em",onClick:n.handleClick,style:{position:"relative",top:"50px"},children:n.buttonText},n.key)})),Object(r.jsx)(Yt,{displayed:o.displayed,onClose:function(){return u({displayed:!1,children:void 0})},children:o.children})]})}));function be(){var n=Object(xt.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\talign-items: center;\n\talign-content: flex-start;\n\n\twidth: 100%;\n\theight: 100%;\n\tpadding: 30px 0;\n\toverflow-y: scroll;\n\t::-webkit-scrollbar {\n\t\tdisplay: none;\n\t}\n\t\n\t& > div {\n\t\tmargin-top: 2%;\n\t\tmargin-right: 2%;\n\t\tflex: 0 0 31%;\n\t}\n"]);return be=function(){return n},n}function fe(){var n=Object(xt.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\t/* align-items: center; */\n\twidth: 100%;\n\tposition: relative;\n\tpadding: 0 40px;\n"]);return fe=function(){return n},n}var je=pt.c.div(fe()),he=pt.c.div(be());function xe(){var n=Object(xt.a)(["\n\tpadding: 20px;\n\t\n\t& div {\n\t\tcolor: white;\n\t}\n"]);return xe=function(){return n},n}function Oe(){var n=Object(xt.a)(["\n\tbackground-image: url(",");\n\tbackground-size: contain;\n\tbackground-repeat: no-repeat;\n\tbackground-position-x: center;\n\tpadding-bottom: calc(1/ 1.41451612903 * 100%);\n"]);return Oe=function(){return n},n}function me(){var n=Object(xt.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 100%;\n\twidth: 100%;\n\tborder-radius: 8px;\n\tbackground: linear-gradient(to bottom, rgba(51, 51, 51, 0.15) -45%, rgba(51, 51, 51, 0.9) 89%);\n\topacity: 0;\n\ttransition: opacity 0.2s;\n\n\t&:hover {\n\t\topacity: 1;\n\t}\n\n\t&:hover "," {\n\t\tcursor: pointer;\n\t}\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n"]);return me=function(){return n},n}function ge(){var n=Object(xt.a)(["\n\theight: 26px;\n\twidth: 26px;\n\tborder-radius: 50%;\n\tbackground-color: rgba(0, 0, 0, 0.3);\n\tcolor: white;\n\tfont-size: 18px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin-top: 10px;\n\tmargin-right: 10px;\n"]);return ge=function(){return n},n}function ve(){var n=Object(xt.a)(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n"]);return ve=function(){return n},n}var ye=pt.c.div(ve()),we=pt.c.div(ge()),ke=pt.c.div(me(),we),Ce=pt.c.div(Oe(),(function(n){return n.url})),Ee=pt.c.div(xe()),Ie=function(n){var t=n.imageUrl,e=n.title,c=n.time,a=(n.spinning,n.onDelete),i=n.onCopy,o=n.onEdit,u=Object(Ut.a)(n,["imageUrl","title","time","spinning","onDelete","onCopy","onEdit"]),s=c?new Date(c):void 0;return Object(r.jsxs)(Ht,Object(d.a)(Object(d.a)({},u),{},{children:[Object(r.jsx)(Ce,{url:t}),Object(r.jsxs)(ke,{children:[Object(r.jsxs)(ye,{children:[a?Object(r.jsx)(we,{onClick:a,children:"\ud835\uddeb"}):null,i?Object(r.jsx)(we,{onClick:i,children:"\ud83d\udcd1"}):null,o?Object(r.jsx)(we,{onClick:o,children:"\u270f"}):null]}),s?Object(r.jsxs)(Ee,{children:[Object(r.jsx)("div",{children:e}),Object(r.jsx)("div",{children:"\u7de8\u8f2f\u6642\u9593\uff1a".concat(s.getFullYear(),".").concat(s.getMonth()+1,".").concat(s.getDate())})]}):null]})]}))};function Se(){var n=Object(xt.a)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid ",";\n  border-radius: 50%;\n  border-top-color: ",";\n  animation: spin 1s ease-in-out infinite;\n  -webkit-animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n  @-webkit-keyframes spin {\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n"]);return Se=function(){return n},n}function _e(){var n=Object(xt.a)(["\n  /* height: 300px; */\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* height: 100%; */\n"]);return _e=function(){return n},n}var Ue=pt.c.div(_e()),Ae=pt.c.div(Se(),(function(n){return n.theme.colors.middleGrey}),(function(n){return n.theme.colors.main})),Te=function(n){return function(t){var e=t.isLoading,c=Object(Ut.a)(t,["isLoading"]);return e?Object(r.jsx)(Ue,{children:Object(r.jsx)(Ae,{})}):Object(r.jsx)(n,Object(d.a)({},c))}};function Le(){var n=Object(xt.a)(["\n\tposition: absolute;\n\tright: 0px;\n\tfont-size: 1.2em;\n\tcursor: pointer;\n"]);return Le=function(){return n},n}function Re(){var n=Object(xt.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tposition: relative;\n\tmargin-bottom: 20px;\n\n\t& > * {\n\t\tmargin-top: 5px;\n\t}\n\n\t& > h1 {\n\t\tflex-basis: 100%;\n    \tfont-size: 1.5em;\n\t}\n\n\t& > p {\n\t\tflex-basis: 100%;\n\t}\n"]);return Re=function(){return n},n}function Fe(){var n=Object(xt.a)(["\n\tmax-height: 100%;\n"]);return Fe=function(){return n},n}function De(){var n=Object(xt.a)(["\n\twidth: 250px;\n\theight: 250px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\toverflow: hidden;\n\n\tposition: relative;  /*mask\u7684\u6bcd\u5143\u7d20*/\n"]);return De=function(){return n},n}function Me(){var n=Object(xt.a)(["\n\tpadding: 20px;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\n\t& > * {\n\t\tmargin-top: 10px;\n\t\ttext-align: center;\n\t}\n"]);return Me=function(){return n},n}function Ge(){var n=Object(xt.a)(["\n\tflex: 1 0 320px;\n\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\t/* flex-direction: column; */\n\t/* justify-content: center; */\n\talign-items: center;\n\n\tbackground-color: #00000099;\n\tcolor: white;\n\t\n\t& > * {\n\t\tflex: 0 0 100%;\n\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t}\n"]);return Ge=function(){return n},n}var ze=pt.c.div(Ge()),Pe=pt.c.div(Me()),Be=pt.c.div(De()),Ne=pt.c.img(Fe()),Ze=pt.c.div(Re());pt.c.span(Le());function Je(){var n=Object(xt.a)(["\n\tposition: absolute;\n\tbackground-color: rgba(256, 256, 256, 0.6);\n\twidth: 100%;\n\theight: 100%;\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-weight: 500;\n\topacity: 0;\n\ttransition: all 0.1s;\n\n\tcolor: white;\n\ttext-decoration: none;\n\n\t&:hover {\n\t\tcursor: pointer;\n    opacity: 1;\n    text-shadow: 1px 1px 3px #00000099;\n\t}\n"]);return Je=function(){return n},n}var qe=pt.c.div(Je()),Ke=function(n){var t=n.editable,e=n.coverSrc,c=n.maskText,a=n.onClickMask,i=n.title,o=n.description,u=(n.onClickEdit,n.btnText),s=n.onClickBtn;return Object(r.jsx)(ze,{children:Object(r.jsxs)(Pe,{children:[Object(r.jsxs)(Be,{children:[Object(r.jsx)(Ne,{src:e,alt:""}),t&&Object(r.jsx)(qe,{onClick:a,style:{backgroundColor:"#CC543A99"},children:c})]}),Object(r.jsxs)(Ze,{children:[Object(r.jsx)("h1",{children:i}),Object(r.jsx)("p",{children:o})]}),t&&Object(r.jsx)(Ft,{onClick:s,children:u})]})})};function Ve(){var n=Object(xt.a)(["\n    font-weight: 500;\n    font-size: 1.5em;\n    color: ",";\n"]);return Ve=function(){return n},n}function He(){var n=Object(xt.a)(["\n    flex-basis: 100%;\n    margin: 10px;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    & label {\n        display: flex;\n        justify-content: flex-end;\n        width: 100px;\n    }\n\n    & input {\n        height: 32px;\n    }\n\n    & input,\n    & textarea {\n        width: 200px;\n        margin: 5px 10px;\n        padding: 5px;\n\n        &:focus {\n            outline: 2px auto ",";\n        }\n    }\n\n    & button {\n        height: 32px;\n        padding: 5px 10px;\n        background-color: ",";\n        color: white;\n        border: none;\n        border-radius: 4px;\n        cursor: pointer;\n    }\n"]);return He=function(){return n},n}function Ye(){var n=Object(xt.a)(["\n\tdisplay: flex;\n    flex-wrap: wrap;\n"]);return Ye=function(){return n},n}var Qe=pt.c.form(Ye()),We=pt.c.div(He(),(function(n){return n.theme.colors.bg}),(function(n){return n.theme.colors.main})),Xe=Object(pt.c)(We)(Ve(),(function(n){return n.theme.colors.main}));var $e=Object(u.b)((function(n){return{currentUser:n.user.currentUser}}),(function(n){return Object(s.b)({createAlbumStart:vn},n)}))((function(n){var t=n.currentUser,e=n.createAlbumStart,c=le({onSubmit:function(n){(null===n||void 0===n?void 0:n.image)&&(null===n||void 0===n?void 0:n.name)&&(null===n||void 0===n?void 0:n.description)&&e({userId:t.id,name:n.name,description:n.description,images:Object(p.a)(n.image)})}}),a=(c.values,c.handleChange),i=c.handleSubmit;return Object(r.jsxs)(Qe,{autocomplete:"off",onSubmit:i,children:[Object(r.jsx)(Xe,{children:"\u5efa\u7acb\u76f8\u7c3f"}),Object(r.jsxs)(We,{children:[Object(r.jsx)("label",{htmlFor:"albumName",children:"\u76f8\u7c3f\u540d\u7a31"}),Object(r.jsx)("input",{type:"text",name:"name",onChange:a})]}),Object(r.jsxs)(We,{children:[Object(r.jsx)("label",{htmlFor:"description",children:"\u76f8\u7c3f\u63cf\u8ff0"}),Object(r.jsx)("textarea",{type:"text",name:"description",rows:"5",onChange:a})]}),Object(r.jsxs)(We,{children:[Object(r.jsx)("label",{htmlFor:"image",children:"\u9078\u53d6\u76f8\u7247"}),Object(r.jsx)("input",{type:"file",accept:"image/jpeg",name:"image",multiple:!0,onChange:a})]}),Object(r.jsx)(We,{children:Object(r.jsx)("button",{type:"submit",children:"\u5efa\u7acb\u76f8\u7c3f"})})]})})),nr=Te(Ie),tr=Te($e);var er=Object(u.b)((function(n){return{currentUser:n.user.currentUser,userInfo:n.user.userInfo,albums:n.user.albums,isCreating:n.user.isCreating,pendingIds:n.user.pendingIds}}),(function(n){return Object(s.b)({uploadImageStart:Z,deleteImageStart:q,getProfilePageDataStart:gn,deleteAlbumStart:wn},n)}))((function(n){var t=n.match,e=n.currentUser,a=n.userInfo,i=n.albums,o=n.isCreating,u=n.pendingIds,s=n.getProfilePageDataStart,l=n.deleteAlbumStart,d=Object(c.useState)({displayed:!1,children:void 0}),p=Object(jt.a)(d,2),b=p[0],f=p[1];Object(c.useEffect)((function(){var n=t.params.userId;s(n)}),[s]),Object(c.useEffect)((function(){b.displayed&&f({displayed:!0,children:Object(r.jsx)(tr,{isLoading:o})}),b.displayed&&!o&&f({displayed:!1,children:void 0})}),[o]);var j=e&&(null===a||void 0===a?void 0:a.id)===(null===e||void 0===e?void 0:e.id);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ke,{editable:j,coverSrc:"https://i.imgur.com/M60mTZd.jpg",maskText:"\u8b8a\u66f4\u982d\u8cbc",onClickMask:function(){return console.log("show form")},title:(null===a||void 0===a?void 0:a.username)?a.username:"\u8f09\u5165\u4e2d",description:(null===a||void 0===a?void 0:a.description)?a.description:"\u8f09\u5165\u4e2d",onClickEdit:function(){return console.log("show edit form")},btnText:"\u5efa\u7acb\u76f8\u7c3f",onClickBtn:function(){return f({displayed:!0,children:Object(r.jsx)(tr,{isLoading:o})})}}),Object(r.jsx)(je,{children:Object(r.jsx)(he,{children:i.map((function(n){return Object(r.jsx)(nr,{imageUrl:n.coverSrc,title:n.name,time:n.updatedAt,onDelete:(t=n.id,j?function(){return l(t)}:void 0),isLoading:u.includes(n.id)},n.id);var t}))})}),Object(r.jsx)(Yt,{displayed:b.displayed,onClose:function(){return f({displayed:!1,children:void 0})},children:b.children})]})}));function rr(){var n=Object(xt.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 100%;\n\theight: 100%;\n\tposition: relative;\n\tfont-size: 5em;\n"]);return rr=function(){return n},n}var cr=pt.c.div(rr());function ar(){var n=Object(xt.a)(["\n  font-size: 16px;\n  font-style: italic;\n  color: ",";\n"]);return ar=function(){return n},n}var ir=pt.c.span(ar(),(function(n){return n.theme.colors.darkGrey})),or=function(n){var t=n.match;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:t.params.wording}),Object(r.jsx)(ir,{children:"// nested-routing"})]})};var ur=[{path:"/profile/:userId",component:er,exact:!0},{path:"/hello",component:Object(u.b)((function(n){return{currentUser:n.user.currentUser}}))((function(n){var t=n.currentUser,e=n.match,c=Object(ht.g)();return Object(r.jsxs)(cr,{children:["\ud83d\udc4b\ud83c\udffb",t?Object(r.jsx)(Ft,{wd:180,fs:"16px",onClick:function(){return c.push("/profile")},children:"\u56de\u5230 Profile"}):null,Object(r.jsx)(Ft,{fs:"16px",onClick:function(){return c.push("".concat(e.path,"/hi"))},children:"1"}),Object(r.jsx)(Ft,{fs:"16px",onClick:function(){return c.push("".concat(e.path,"/hello"))},children:"2"}),Object(r.jsx)(ht.b,{path:"".concat(e.path,"/:wording"),component:or})]})})),exact:!1}];var sr=Object(u.b)((function(n){return{currentUser:n.user.currentUser}}),(function(n){return Object(s.b)({setCurrentUser:fn},n)}))((function(n){n.setCurrentUser,Object(c.useEffect)((function(){}),[]);var t=Object(c.useState)("test");return Object(jt.a)(t,1)[0],Object(r.jsxs)(ht.d,{children:[Object(r.jsx)(ht.b,{exact:!0,path:"/",children:Object(r.jsx)(pe,{})}),Object(r.jsx)(ht.b,{path:"*",children:Object(r.jsx)(Mt,{children:Object(r.jsxs)(ht.d,{children:[ur.map((function(n){return Object(r.jsx)(ht.b,{exact:n.exact,path:n.path,component:n.component},n.path)})),Object(r.jsx)(ht.b,{path:"*",children:Object(r.jsx)(ht.a,{to:"/"})})]})})})]})})),lr=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,84)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;e(n),r(n),c(n),a(n),i(n)}))};o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(u.a,{store:dt,children:Object(r.jsx)(pt.a,{theme:bt,children:Object(r.jsx)(ft.a,{children:Object(r.jsx)(sr,{})})})})}),document.getElementById("root")),lr()}},[[83,1,2]]]);
//# sourceMappingURL=main.481055ce.chunk.js.map